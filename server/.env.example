# Example environment variables for NestJS server

# PostgreSQL (adjust for local Docker or direct Postgres)
# For docker-compose local Postgres on host port 55432:
DATABASE_URL="postgresql://imageai:imageai_pass@localhost:55432/imageai_db?schema=public"
# If running inside Docker container, use host 'db':
# DATABASE_URL="postgresql://imageai:imageai_pass@db:5432/imageai_db?schema=public"

# App runtime
PORT=8080
CORS_ALLOWED_ORIGINS="http://localhost:5173,http://localhost:4173"

# DevAuth (Phase 1 fallback for local/dev)
# When enabled, the BearerAuthGuard validates requests using a static token below.
# Disable this in production environments.
DEV_AUTH_ENABLED=1
DEV_AUTH_TOKEN="dev"

# Firebase Admin (Phase 2 real verification)
# When DEV_AUTH_ENABLED is 0/false, BearerAuthGuard verifies Firebase ID Tokens.
# Provide credentials below or rely on GOOGLE_APPLICATION_CREDENTIALS (ADC).
# IMPORTANT: Escape newlines in private key as \\n (double-backslash in .env).
# Example:
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\\nMIIEv...\\n-----END PRIVATE KEY-----\\n"
FIREBASE_PROJECT_ID=""
FIREBASE_CLIENT_EMAIL=""
FIREBASE_PRIVATE_KEY=""

# Notes:
# - Set DEV_AUTH_ENABLED=0 in production (use Firebase verification).
# - Authorization header must be "Bearer <token>".
# - For Firebase verification, the client must pass a valid Firebase ID Token (user.getIDToken()).
